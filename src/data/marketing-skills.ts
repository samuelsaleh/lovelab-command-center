/**
 * 44 Claude marketing skills — structured for Skills Library page and AI system prompt
 */

export type SkillPlatform = 'google' | 'meta' | 'both' | 'linkedin' | 'reddit';

export type SkillCategory =
  | 'Performance Analysis'
  | 'Budget & Bid Management'
  | 'Creative & Content'
  | 'Audience & Targeting'
  | 'Account Structure'
  | 'Attribution & Testing'
  | 'Audits'
  | 'SEO & Content Strategy'
  | 'Reporting'
  | 'Research & Planning'
  | 'Tracking & Operations';

export interface MarketingSkill {
  id: string;
  name: string;
  platform: SkillPlatform;
  category: SkillCategory;
  description: string;
  whenToUse: string;
  simpleLabel: string;
  promptTemplate: string;
}

export const MARKETING_SKILLS: MarketingSkill[] = [
  {
    id: 'cpa-diagnostics',
    name: 'CPA Diagnostics',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Breaks down exactly what caused a CPA spike across campaigns, ad sets, keywords, and audiences. Ranks factors by impact.',
    whenToUse: 'CPA jumps 15–20%+ day over day or week over week; client asks why performance dropped; Monday account checks.',
    simpleLabel: 'Why is my cost high?',
    promptTemplate: 'Run CPA diagnostics on my Google and Meta data: break down what is driving my cost per acquisition and rank factors by impact.',
  },
  {
    id: 'wasted-spend-finder',
    name: 'Wasted Spend Finder',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Scans for spend on search terms, placements, and audiences with zero or near-zero conversions. Delivers exclusion lists ready to upload.',
    whenToUse: 'Monthly account hygiene; onboarding new client; after scaling when new queries/placements leak in.',
    simpleLabel: 'Find wasted money',
    promptTemplate: 'Find wasted spend in my Google and Meta accounts: identify search terms, placements, and audiences with spend but no conversions and give me exclusion lists.',
  },
  {
    id: 'budget-scenario-planner',
    name: 'Budget Scenario Planner',
    platform: 'both',
    category: 'Budget & Bid Management',
    description: 'Models budget scenarios and outcomes so you can compare options before making changes.',
    whenToUse: 'Budget reallocation; client asks for what-if; planning next quarter.',
    simpleLabel: 'What if I change my budget?',
    promptTemplate: 'Run a budget scenario planner: model different budget allocations across Google and Meta and show projected outcomes.',
  },
  {
    id: 'creative-fatigue-detection',
    name: 'Creative Fatigue Detection',
    platform: 'meta',
    category: 'Creative & Content',
    description: 'Detects Meta creative fatigue signals (frequency, CTR drop, engagement decay) and recommends when to refresh.',
    whenToUse: 'When Meta CPA or CPM creeps up; after creative has been running 3–4+ weeks.',
    simpleLabel: 'Are my ads getting tired?',
    promptTemplate: 'Analyze my Meta ads for creative fatigue: identify ads that are losing performance and recommend when to rotate in new creative.',
  },
  {
    id: 'client-report-narratives',
    name: 'Client Report Narratives',
    platform: 'both',
    category: 'Reporting',
    description: 'Turns raw campaign data into an executive summary paragraph: what happened, why, and what is being done.',
    whenToUse: 'Weekly and monthly client reporting; QBR prep; turning spreadsheets into words.',
    simpleLabel: 'Write my report summary',
    promptTemplate: 'Write a client report narrative from my performance data: executive summary in plain English with key wins, issues, and next steps.',
  },
  {
    id: 'anomaly-detection',
    name: 'Anomaly Detection',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Detects unusual performance patterns (spikes, drops, outliers) and flags them for review.',
    whenToUse: 'Regular monitoring; spotting tracking or campaign issues; unexplained variance.',
    simpleLabel: 'Something looks wrong',
    promptTemplate: 'Run anomaly detection on my Google and Meta data: flag unusual patterns in spend, conversions, or engagement that need attention.',
  },
  {
    id: 'search-term-mining',
    name: 'Search Term Mining',
    platform: 'google',
    category: 'Account Structure',
    description: 'Mines Google search term reports for new keyword opportunities, negatives, and theme ideas.',
    whenToUse: 'Monthly keyword expansion; cleaning up broad match; finding high-intent terms.',
    simpleLabel: 'Find new keywords',
    promptTemplate: 'Mine my Google search term report: find new keyword opportunities, negative keywords, and themes to add to campaigns.',
  },
  {
    id: 'audience-overlap-analysis',
    name: 'Audience Overlap Analysis',
    platform: 'meta',
    category: 'Audience & Targeting',
    description: 'Identifies Meta audience overlap issues that waste budget and dilute delivery.',
    whenToUse: 'When scaling Meta; multiple lookalikes or custom audiences; delivery issues.',
    simpleLabel: 'Are my audiences overlapping?',
    promptTemplate: 'Analyze my Meta audiences for overlap: identify redundant or conflicting audiences and recommend consolidation.',
  },
  {
    id: 'ad-copy-variant-generator',
    name: 'Ad Copy Variant Generator',
    platform: 'both',
    category: 'Creative & Content',
    description: 'Generates ad copy variations for Google and Meta with platform-specific character limits.',
    whenToUse: 'Creative refresh; A/B testing; scaling winning angles.',
    simpleLabel: 'Write ad copy ideas',
    promptTemplate: 'Generate 5 ad copy variants for [campaign/collection] for Google and Meta, with correct character limits and a clear CTA.',
  },
  {
    id: 'landing-page-audit',
    name: 'Landing Page Audit',
    platform: 'both',
    category: 'Account Structure',
    description: 'Audits landing pages for conversion optimization: clarity, relevance, load, and CTA.',
    whenToUse: 'Low conversion rate; new landing pages; before scaling traffic.',
    simpleLabel: 'Check my landing pages',
    promptTemplate: 'Audit my landing pages for conversion: review relevance, clarity, load speed, and calls to action. Give prioritized recommendations.',
  },
  {
    id: 'bid-strategy-recommendations',
    name: 'Bid Strategy Recommendations',
    platform: 'google',
    category: 'Budget & Bid Management',
    description: 'Recommends Google bid strategies (Maximize Conversions, Target CPA, etc.) based on volume and goals.',
    whenToUse: 'New campaigns; conversion volume changes; underperforming campaigns.',
    simpleLabel: 'Which bid strategy?',
    promptTemplate: 'Recommend Google Ads bid strategies for my campaigns based on conversion volume and goals.',
  },
  {
    id: 'day-hour-performance-breakdown',
    name: 'Day/Hour Performance Breakdown',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Analyzes performance by day of week and hour to optimize scheduling and budget.',
    whenToUse: 'Setting ad schedules; understanding when conversions happen; budget pacing by time.',
    simpleLabel: 'When do my ads work best?',
    promptTemplate: 'Break down my Google and Meta performance by day and hour: when do I get the best conversions and where should I focus budget?',
  },
  {
    id: 'competitor-creative-analysis',
    name: 'Competitor Creative Analysis',
    platform: 'meta',
    category: 'Creative & Content',
    description: 'Analyzes competitor ads from ad libraries to inform creative and messaging.',
    whenToUse: 'Creative planning; competitive audits; inspiration for angles.',
    simpleLabel: 'What are competitors doing?',
    promptTemplate: 'Analyze competitor creative in my category from Meta Ad Library: themes, messaging, and formats. Suggest how we can differentiate.',
  },
  {
    id: 'quality-score-breakdown',
    name: 'Quality Score Breakdown',
    platform: 'google',
    category: 'Account Structure',
    description: 'Breaks down Google Quality Score (Expected CTR, Ad Relevance, Landing Page) with improvement steps.',
    whenToUse: 'Low Quality Scores; high CPC; impression share issues.',
    simpleLabel: 'Improve my Quality Score',
    promptTemplate: 'Break down my Google Ads Quality Scores: identify weak components and give specific steps to improve Expected CTR, Ad Relevance, and Landing Page Experience.',
  },
  {
    id: 'channel-mix-optimizer',
    name: 'Channel Mix Optimizer',
    platform: 'both',
    category: 'Budget & Bid Management',
    description: 'Optimizes allocation between Google and Meta (and within each) based on performance.',
    whenToUse: 'Budget reallocation; multi-channel strategy; ROAS by channel.',
    simpleLabel: 'Where should I put my budget?',
    promptTemplate: 'Optimize my channel mix: analyze Google vs Meta performance and recommend budget allocation and shifts.',
  },
  {
    id: 'conversion-path-analysis',
    name: 'Conversion Path Analysis',
    platform: 'both',
    category: 'Attribution & Testing',
    description: 'Analyzes multi-touch conversion paths to understand how channels work together.',
    whenToUse: 'Attribution questions; understanding funnel; cross-channel strategy.',
    simpleLabel: 'How do people convert?',
    promptTemplate: 'Analyze conversion paths across Google and Meta: how do users touch multiple channels before converting and what does that mean for budget?',
  },
  {
    id: 'account-structure-review',
    name: 'Account Structure Review',
    platform: 'both',
    category: 'Account Structure',
    description: 'Reviews campaign and ad group structure for clarity, scalability, and best practices.',
    whenToUse: 'Reorganizing accounts; onboarding; scaling without chaos.',
    simpleLabel: 'Is my account organized well?',
    promptTemplate: 'Review my Google and Meta account structure: campaigns, ad groups, and naming. Recommend improvements for clarity and performance.',
  },
  {
    id: 'frequency-cap-recommendations',
    name: 'Frequency Cap Recommendations',
    platform: 'meta',
    category: 'Audience & Targeting',
    description: 'Recommends Meta frequency caps to balance reach and fatigue.',
    whenToUse: 'High frequency; fatigue concerns; reach vs. efficiency.',
    simpleLabel: 'How often should people see my ads?',
    promptTemplate: 'Recommend Meta frequency caps based on my campaign goals and current frequency data.',
  },
  {
    id: 'roas-forecasting',
    name: 'ROAS Forecasting',
    platform: 'both',
    category: 'Budget & Bid Management',
    description: 'Projects ROAS for 30/60/90 days based on current trends and scenarios.',
    whenToUse: 'Budget planning; client projections; what-if scenarios.',
    simpleLabel: 'What ROAS can I expect?',
    promptTemplate: 'Forecast ROAS for the next 30, 60, and 90 days based on my Google and Meta data. Include confidence ranges.',
  },
  {
    id: 'keyword-cannibalization-check',
    name: 'Keyword Cannibalization Check',
    platform: 'google',
    category: 'Account Structure',
    description: 'Finds keyword overlap and cannibalization across campaigns and ad groups.',
    whenToUse: 'Multiple campaigns with similar keywords; unclear which campaign gets the impression.',
    simpleLabel: 'Are my keywords fighting each other?',
    promptTemplate: 'Check my Google Ads account for keyword cannibalization: identify overlapping keywords and recommend structure fixes.',
  },
  {
    id: 'ad-extension-audit',
    name: 'Ad Extension Audit',
    platform: 'google',
    category: 'Account Structure',
    description: 'Audits sitelinks, callouts, structured snippets, and other extensions for coverage and relevance.',
    whenToUse: 'Low ad strength; missing extensions; refresh before peak.',
    simpleLabel: 'Check my ad extensions',
    promptTemplate: 'Audit my Google Ads extensions: sitelinks, callouts, snippets. Recommend additions and improvements.',
  },
  {
    id: 'retargeting-window-analysis',
    name: 'Retargeting Window Analysis',
    platform: 'meta',
    category: 'Audience & Targeting',
    description: 'Analyzes optimal retargeting windows (7, 14, 30 days) based on conversion data.',
    whenToUse: 'Structuring retargeting; audience size vs. efficiency.',
    simpleLabel: 'How long should I retarget?',
    promptTemplate: 'Analyze my Meta retargeting performance by window (7/14/30 days): recommend optimal windows for conversion and efficiency.',
  },
  {
    id: 'campaign-naming-convention-builder',
    name: 'Campaign Naming Convention Builder',
    platform: 'both',
    category: 'Account Structure',
    description: 'Creates consistent naming conventions for campaigns, ad sets, and ads.',
    whenToUse: 'New accounts; cleaning up; team scaling.',
    simpleLabel: 'Name my campaigns clearly',
    promptTemplate: 'Create a campaign naming convention for my Google and Meta accounts: clear, consistent, and scalable.',
  },
  {
    id: 'geo-performance-analysis',
    name: 'Geo Performance Analysis',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Analyzes performance by geography to optimize targeting and budget.',
    whenToUse: 'Multi-region campaigns; expansion; underperforming regions.',
    simpleLabel: 'Which regions perform best?',
    promptTemplate: 'Analyze my Google and Meta performance by geography: which regions drive the best results and where should I adjust?',
  },
  {
    id: 'device-performance-split',
    name: 'Device Performance Split',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Compares mobile, desktop, and tablet performance for bidding and creative.',
    whenToUse: 'Device bid adjustments; mobile vs. desktop strategy; creative format decisions.',
    simpleLabel: 'Mobile vs desktop performance',
    promptTemplate: 'Split my Google and Meta performance by device (mobile, desktop, tablet): recommend bid adjustments and creative focus.',
  },
  {
    id: 'attribution-model-comparison',
    name: 'Attribution Model Comparison',
    platform: 'both',
    category: 'Attribution & Testing',
    description: 'Compares last-click, linear, data-driven, and other attribution models.',
    whenToUse: 'Understanding channel credit; optimization vs. reporting; model selection.',
    simpleLabel: 'How should I count conversions?',
    promptTemplate: 'Compare attribution models for my Google and Meta data: how do last-click, linear, and data-driven change the picture?',
  },
  {
    id: 'pacing-monitor',
    name: 'Pacing Monitor',
    platform: 'both',
    category: 'Budget & Bid Management',
    description: 'Monitors budget pacing and flags over- or under-delivery.',
    whenToUse: 'Daily/weekly pacing checks; end-of-month rush; new budget levels.',
    simpleLabel: 'Am I on pace with my budget?',
    promptTemplate: 'Monitor my Google and Meta budget pacing: am I on track for the month? Flag over- or under-delivery and recommend adjustments.',
  },
  {
    id: 'ab-test-setup-and-analysis',
    name: 'A/B Test Setup and Analysis',
    platform: 'both',
    category: 'Attribution & Testing',
    description: 'Designs A/B tests (creative, audience, landing page) and analyzes results for significance.',
    whenToUse: 'Before launching tests; when results are in; scaling winners.',
    simpleLabel: 'Set up or analyze an A/B test',
    promptTemplate: 'Help me set up an A/B test (or analyze results): define hypothesis, sample size, and duration; or interpret results and recommend a winner.',
  },
  {
    id: 'performance-benchmarking',
    name: 'Performance Benchmarking',
    platform: 'both',
    category: 'Performance Analysis',
    description: 'Compares performance to industry or category benchmarks.',
    whenToUse: 'Client reporting; goal setting; competitive context.',
    simpleLabel: 'How do I compare to others?',
    promptTemplate: 'Benchmark my Google and Meta performance against industry norms: where am I above or below benchmark and what should I aim for?',
  },
  {
    id: 'weekly-account-summary',
    name: 'Weekly Account Summary',
    platform: 'both',
    category: 'Reporting',
    description: 'Generates a plain-English weekly summary: what improved, what declined, top issues, and next steps.',
    whenToUse: 'Every Monday; multi-account overview; client weekly updates.',
    simpleLabel: 'Weekly report',
    promptTemplate: 'Generate a weekly account summary for my Google and Meta accounts: key changes, top 3–5 issues, wins, and priority actions for this week.',
  },
  {
    id: 'ab-test-analyzer',
    name: 'A/B Test Analyzer',
    platform: 'both',
    category: 'Attribution & Testing',
    description: 'Analyzes A/B test results for statistical significance and recommends a winner.',
    whenToUse: 'When test has enough data; deciding which variant to scale.',
    simpleLabel: 'Which variant won?',
    promptTemplate: 'Analyze my A/B test results: assess statistical significance and recommend which variant to scale and why.',
  },
  {
    id: 'ad-spend-allocator',
    name: 'Ad Spend Allocator',
    platform: 'both',
    category: 'Budget & Bid Management',
    description: 'Multi-channel budget optimization: recommends how to allocate spend across campaigns and platforms.',
    whenToUse: 'Budget reallocation; new budget; quarterly planning.',
    simpleLabel: 'How should I split my budget?',
    promptTemplate: 'Allocate my ad budget across Google and Meta: recommend split by campaign and platform based on ROAS and goals.',
  },
  {
    id: 'competitor-teardown',
    name: 'Competitor Teardown',
    platform: 'both',
    category: 'Creative & Content',
    description: 'Systematic competitive analysis of landing pages and positioning.',
    whenToUse: 'Competitive strategy; landing page refresh; positioning review.',
    simpleLabel: 'Compare me to competitors',
    promptTemplate: 'Run a competitor teardown: analyze competitor landing pages and positioning and recommend how we can differentiate.',
  },
  {
    id: 'content-repurposer',
    name: 'Content Repurposer',
    platform: 'both',
    category: 'Creative & Content',
    description: 'Transforms one piece of content into multiple platform formats (ads, social, email).',
    whenToUse: 'Repurposing blog/video; scaling one angle; consistent messaging.',
    simpleLabel: 'Turn one idea into many formats',
    promptTemplate: 'Repurpose my [content] into formats for Google Ads, Meta, and email: keep voice consistent and adapt to each platform.',
  },
  {
    id: 'e2e-seo-assistant',
    name: 'E2E SEO Assistant',
    platform: 'google',
    category: 'SEO & Content Strategy',
    description: 'End-to-end SEO: technical, content, and backlink recommendations.',
    whenToUse: 'SEO audits; content strategy; technical fixes.',
    simpleLabel: 'Help with SEO',
    promptTemplate: 'Run an end-to-end SEO check: technical issues, content gaps, and backlink opportunities. Prioritize by impact.',
  },
  {
    id: 'email-sequence-writer',
    name: 'Email Sequence Writer',
    platform: 'both',
    category: 'Creative & Content',
    description: 'Writes complete email nurture sequences (subject lines, body, CTAs) for segments.',
    whenToUse: 'Lead nurture; post-purchase; re-engagement.',
    simpleLabel: 'Write email sequences',
    promptTemplate: 'Write an email sequence for [segment/purpose]: subject lines, body copy, and CTAs. Include 3–5 emails.',
  },
  {
    id: 'google-ads-audit',
    name: 'Google Ads Audit',
    platform: 'google',
    category: 'Audits',
    description: 'Comprehensive Google Ads account health: wasted spend, structure, Quality Score, bid strategy.',
    whenToUse: 'Full account review; onboarding; quarterly health check.',
    simpleLabel: 'Full Google Ads check',
    promptTemplate: 'Run a full Google Ads audit: wasted spend, structure, Quality Score, and bid strategy. Give prioritized recommendations.',
  },
  {
    id: 'icp-research-assistant',
    name: 'ICP Research Assistant',
    platform: 'both',
    category: 'Research & Planning',
    description: 'Builds detailed buyer personas and ideal customer profiles from data and research.',
    whenToUse: 'New market; repositioning; audience strategy.',
    simpleLabel: 'Who is my ideal customer?',
    promptTemplate: 'Help me build an ideal customer profile: demographics, pain points, channels, and messaging angles based on my product and market.',
  },
  {
    id: 'landing-page-audit-39',
    name: 'Landing Page Audit (Conversion)',
    platform: 'both',
    category: 'Audits',
    description: 'Landing page conversion audit: relevance, clarity, trust, and CTA.',
    whenToUse: 'Low conversion rate; new pages; before scaling.',
    simpleLabel: 'Audit my landing pages',
    promptTemplate: 'Audit my landing pages for conversion: relevance to ad, clarity of offer, trust signals, and CTA. Prioritized fixes.',
  },
  {
    id: 'linkedin-ads-audit',
    name: 'LinkedIn Ads Audit',
    platform: 'linkedin',
    category: 'Audits',
    description: 'Audits LinkedIn Ads accounts for structure, targeting, and creative.',
    whenToUse: 'B2B; LinkedIn as a channel; expanding to LinkedIn.',
    simpleLabel: 'Check my LinkedIn ads',
    promptTemplate: 'Audit my LinkedIn Ads account: structure, targeting, and creative. Recommend improvements.',
  },
  {
    id: 'meta-ads-audit',
    name: 'Meta Ads Audit',
    platform: 'meta',
    category: 'Audits',
    description: 'Comprehensive Meta/Facebook/Instagram Ads audit: tracking, structure, creative fatigue, audiences.',
    whenToUse: 'Full Meta review; onboarding; performance issues.',
    simpleLabel: 'Full Meta ads check',
    promptTemplate: 'Run a full Meta Ads audit: tracking, account structure, creative fatigue, and audiences. Prioritized recommendations.',
  },
  {
    id: 'programmatic-seo-builder',
    name: 'Programmatic SEO Builder',
    platform: 'google',
    category: 'SEO & Content Strategy',
    description: 'Creates scalable programmatic SEO templates and schema for large-scale content.',
    whenToUse: 'Scaling SEO; location/category pages; template-based content.',
    simpleLabel: 'Scale my SEO pages',
    promptTemplate: 'Help me build programmatic SEO: templates, schema, and structure for scalable landing pages without thin content.',
  },
  {
    id: 'reddit-ads-audit',
    name: 'Reddit Ads Audit',
    platform: 'reddit',
    category: 'Audits',
    description: 'Audits Reddit Ads for targeting, creative, and community fit.',
    whenToUse: 'Reddit as a channel; niche audiences.',
    simpleLabel: 'Check my Reddit ads',
    promptTemplate: 'Audit my Reddit Ads: targeting, creative, and fit with subreddits. Recommend improvements.',
  },
  {
    id: 'utm-tracking-generator',
    name: 'UTM Tracking Generator',
    platform: 'both',
    category: 'Tracking & Operations',
    description: 'Generates UTM parameters and GA4 event specs for campaigns.',
    whenToUse: 'New campaigns; cleaning up tracking; multi-touch attribution.',
    simpleLabel: 'Create UTM links',
    promptTemplate: 'Generate UTM parameters and GA4 event specs for my [campaign/channel]. Include naming conventions and a short guide.',
  },
];

export const SKILL_CATEGORIES: SkillCategory[] = [
  'Performance Analysis',
  'Budget & Bid Management',
  'Creative & Content',
  'Audience & Targeting',
  'Account Structure',
  'Attribution & Testing',
  'Audits',
  'SEO & Content Strategy',
  'Reporting',
  'Research & Planning',
  'Tracking & Operations',
];

/** Top skills for Simple mode (Fix Problems, Find Opportunities, Get Reports) */
export const SIMPLE_MODE_SKILL_IDS = [
  'cpa-diagnostics',
  'wasted-spend-finder',
  'weekly-account-summary',
  'creative-fatigue-detection',
  'client-report-narratives',
  'roas-forecasting',
  'channel-mix-optimizer',
  'landing-page-audit',
  'ad-copy-variant-generator',
  'icp-research-assistant',
];

/** Skill IDs to show as chips in AI Chat (most used) */
export const CHAT_PRESET_SKILL_IDS = [
  'cpa-diagnostics',
  'wasted-spend-finder',
  'weekly-account-summary',
  'budget-scenario-planner',
  'creative-fatigue-detection',
  'client-report-narratives',
  'roas-forecasting',
  'ad-spend-allocator',
];

export function getSkillById(id: string): MarketingSkill | undefined {
  return MARKETING_SKILLS.find((s) => s.id === id);
}

export function getSkillsByCategory(category: SkillCategory): MarketingSkill[] {
  return MARKETING_SKILLS.filter((s) => s.category === category);
}

export function getSkillsForSimpleMode(): MarketingSkill[] {
  return SIMPLE_MODE_SKILL_IDS.map((id) => getSkillById(id)).filter(Boolean) as MarketingSkill[];
}

export function getChatPresetSkills(): MarketingSkill[] {
  return CHAT_PRESET_SKILL_IDS.map((id) => getSkillById(id)).filter(Boolean) as MarketingSkill[];
}
